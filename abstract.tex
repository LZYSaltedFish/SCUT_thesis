\chapter{摘\texorpdfstring{\quad}{}要}

垂直领域对话生成技术是构建智能对话系统中重要的基础技术，该技术旨在为用户解决特定领域的问题、提供专业解答。目前该技术已经广泛应用在医疗保健、金融、法律、科技等领域的服务助手、答疑机器人等应用中，具有很高的研究价值。

目前主流的面向垂直领域的对话生成方法，都是基于检索增强的自回归模型设计的。然而，现有面向垂直领域的检索增强对话生成存在以下难点：1）专有领域背景知识丰富，且逻辑相对复杂；2）用户问题形式多样，意图难以理解。针对以上存在的两个问题，本文采取的研究方案如下：

\begin{enumerate}[topsep = 0 pt, itemsep= 0 pt, parsep=0pt, partopsep=0pt, leftmargin=0pt, itemindent=44pt, labelsep=6pt, listparindent=24pt, label=\arabic*)]
	\item 针对专有领域背景知识丰富、逻辑相对复杂的问题，提出了基于内外部知识对齐的检索增强对话生成方法。该方法利用一个语义切分模块提取知识文档的文档级信息和实体级信息，并将提取出来的知识分别用于构建外部知识库和内部知识注入，实现垂直领域对话模型内外部知识对齐。本文将该方法应用于金融分析领域，在真实股票价格预测任务和金融问答任务上验证了该方法的有效性。

	\item 针对用户问题形式多样、意图难理解的问题，提出了基于人类偏好对齐的检索增强对话生成方法。该方法通过采集人类对真实场景对话样本的偏好，利用大型语言模型的理解与分析能力进行问题优化，并训练单独的问题优化语言模型，实现了与模型无关的、可解释、效果稳定的人类偏好对齐。本文分别在两个不同的基准测试机上与目前主流的语言模型对齐方法进行实验比较，证明了该方法能同时提升知识文档召回准确率和模型理解与用户意图的一致性。
\end{enumerate}

\keywordsCN{对话系统；人类偏好对齐；检索增强生成；自回归语言模型}

\chapter{Abstract}

Vertical domain dialog generation technology is an important basic technology in building intelligent dialog system, which aims to solve problems in specific fields and provide professional answers for users. At present, the technology has been widely used in the fields of health care, finance, law, science and technology and other service assistants, answering robots and other applications, has high research value.

At present, the mainstream vertical-domain oriented dialogue generation methods are all designed based on retrieve-enhanced autoregressive models. However, there are the following difficulties in the current vertic-domain-oriented retrieval enhanced dialogue generation: 1) the background knowledge of the proprietary domain is rich, and the logic is relatively complex; 2) User questions come in many forms and their intentions are hard to understand. In view of the above two problems, the research plan adopted in this paper is as follows:

\begin{enumerate}[topsep = 0 pt, itemsep= 0 pt, parsep=0pt, partopsep=0pt, leftmargin=0pt, itemindent=44pt, labelsep=6pt, listparindent=24pt, label=\arabic*)]
	\item Aiming at the problem of rich background knowledge and relatively complex logic in proprietary domain, a search enhanced dialogue generation method based on internal and external knowledge alignment is proposed. In this method, a semantic segmentation module is used to extract document-level information and entity-level information from knowledge documents, and the extracted knowledge is used to construct external knowledge base and internal knowledge injection respectively, so as to realize internal and external knowledge alignment in vertical domain dialogue model. In this paper, the method is applied to financial analysis, and the validity of the method is verified on real stock price prediction task and financial question answering task.

	\item Aiming at the problem of various forms of user questions and difficult to understand the intention, a search enhancement dialog generation method based on human preference alignment is proposed. By collecting human preferences for real scene dialogue samples, the method uses the understanding and analysis ability of large-scale language models to optimize the problem, and trains a single problem optimization language model, and realizes the model-independent, interpretable and stable human preference alignment. In this paper, two different benchmarking machines are used to compare with the current mainstream language model alignment methods, and it is proved that this method can improve the accuracy of knowledge document recall and the consistency of model understanding and user intention.
\end{enumerate}

\keywordsEN{Dialogue System; Human Preference Alignment; Retrieval Augmented Generation; Regressive Language Model}